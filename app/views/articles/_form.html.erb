
<%= form_with(model: @article, local: true, class: "form") do |f| %>
  <% if @article.errors.any? %>
    <h4><%= pluralize(@article.errors.count, "error") %> prohibited this micropost from being saved:</h4>

    <ul>
      <% @article.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  <% end %>

  <div class="field">
    <%= f.label :title, "Title" %>
    <br>
    <%= f.text_field :title, class: "input", placeholder: "Your article's title" %>
  </div>

  <div class="field">
    <%= f.label :image, "Image URL" %>
    <br>
    <%= f.text_field :image, class: "input", placeholder: "Your article's image URL" %>
  </div>

  <div class="field">
    <p>Existing categories:</p>
    <ul>
      <% @categories.each do |category| %>
        <li><%= category.name %></li>
      <% end %>      
    </ul>

    <p>You can use a category from here or add a new one</p>
  </div>

  <div class="field">
    <%= f.label :category_list, "Categories" %>
    <br>
    <%= f.text_field :category_list, placeholder: "#{@categories[0].name}, #{@categories[1].name}, ...", class: "input" %>
  </div>

  <div class="field">
    <%= f.label :text, "Content" %>
    <br>
    <%= f.text_area :text, class: "text-area", rows: "20", placeholder: "Start writing..." %>
  </div>

  <div class="field">
    <%= f.submit "Submit", disable_with: 'Submiting...' %>    
  </div>
<% end %>
